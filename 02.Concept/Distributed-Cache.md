# 分布式存储

亿级数据需要缓存, 如何设计存储案例?

单机不可能, 一定是分布式存储

1. hash取余算法
   + 无法扩缩容
2. 一致性Hash算法
   1. ??
      + 算法构建一致性哈希环
      + 服务器映射到hash环
      + 缓存key落到服务器的落键规则
   2. 优点
      + 容错性
      + 扩充性
   3. 缺点
      + 数据倾斜问题
3. Hash槽分区
   1. 只能有16384个槽
   2. 每个Key通过CRC16校验后, 对16384取模
   3. 集群每个节点负载一部分Hash槽